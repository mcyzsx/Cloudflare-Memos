name = "memos"
main = "src/index.js"
compatibility_date = "2024-01-15"
compatibility_flags = ["nodejs_compat"]
# 配置文件导入规则
[[rules]]
type = "Data"
globs = ["**/*.ico"]
fallthrough = true

[env.production.vars]
ENVIRONMENT = "production"

[[d1_databases]]
binding = "DB"
database_name = "memos_db"
database_id = "b1e2ceb8-4edd-41c8-ba38-824a3c24450e"

[[r2_buckets]]
binding = "BUCKET"
bucket_name = "memos"

[vars]
# Gravatar CDN代理配置（支持国内访问）
# 可以设置为国内可访问的CDN代理，如：
# GRAVATAR_CDN = "https://gravatar.loli.net"
# GRAVATAR_CDN = "https://cdn.v2ex.com/gravatar"
# GRAVATAR_CDN = "https://sdn.geekzu.org/avatar"
GRAVATAR_CDN = "https://gravatar.loli.net"